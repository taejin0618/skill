---
name: happy-testcase-writer
description: >
  Happy Path 테스트 케이스 전용 생성 스킬. 정상 플로우와 성공 시나리오만 포함.
  트리거: (1) "Happy Path 테스트" (2) "정상 케이스만" (3) "성공 시나리오 테스트"
  (4) "스모크 테스트 케이스" (5) "빠른 기능 검증" (6) Figma/Axure URL과 함께 Happy Path 요청
  (7) "기본 플로우 테스트".
  입력: Figma, Axure, Jira, Confluence, PPT, PDF, 스크린샷, 웹 URL 등 요구사항 문서.
  출력: **테스트케이스.csv 파일만** (질문.md 생성 안 함)
---

# Happy Path 테스트 케이스 작성 스킬

요구사항 문서를 분석하여 **정상 플로우만 포함**하는 TestRail 호환 CSV 테스트 케이스를 생성한다.

## 핵심 원칙

1. **정확성**: 요구사항 문서에서 명확한 정보만 추출. 불명확한 사항은 기본값 사용.
2. **실행 가능성**: 유효한 입력값으로 구체적인 테스트 작성.
3. **성공 시나리오 집중**: 정상 플로우와 성공 시 UX 피드백만 포함. 오류/엣지 케이스 **절대 생성 금지 + 자동 제거**.

---

## 최종 출력물 (1개 파일만)

### 파일명 규칙

**형식**: `[기능명]_테스트케이스.csv`

**작성 규칙**:

- ✅ 한글 사용 가능: `회원가입_테스트케이스.csv`
- ✅ 허용 특수문자: 언더스코어(\_), 하이픈(-)만 사용
- ❌ 공백 금지: `회원 가입_테스트케이스.csv` (X)
- ❌ 기타 특수문자 금지: `회원가입!_테스트케이스.csv` (X)

**예시**:

- ✅ `로그인_테스트케이스.csv`
- ✅ `주문-결제_테스트케이스.csv`
- ✅ `user-management_testcase.csv`
- ❌ `로그인 테스트케이스.csv` (공백)
- ❌ `주문&결제_테스트케이스.csv` (특수문자)

`[기능명]_테스트케이스/` 폴더에 아래 파일 생성:

| #   | 파일명                         | 용도                           |
| --- | ------------------------------ | ------------------------------ |
| 1   | **[기능명]\_테스트케이스.csv** | TestRail 테스트케이스 업로드용 |

**⚠️ 중요**: Happy Path 스킬은 정상 플로우만 테스트하므로 **질문.md 파일을 생성하지 않습니다**.

---

## ⚠️ 필수 커버리지 체크리스트 (100% 충족 필수)

> **중요**: 테스트케이스 작성 완료 전 아래 모든 항목을 반드시 확인하고, 누락된 항목이 있으면 테스트케이스를 추가해야 한다.

### 1. 기능 커버리지 (100% 필수)

화면의 모든 UI 요소에 대해 **정상 동작** 테스트케이스가 존재해야 한다.

| #    | 체크 항목                                      | 필수 |
| ---- | ---------------------------------------------- | ---- |
| 1-1  | 모든 버튼 클릭 정상 동작 (검색, 저장, 수정 등) | ✅   |
| 1-2  | 모든 입력란 유효한 입력 테스트                 | ✅   |
| 1-3  | 모든 드롭다운/셀렉트박스 정상 선택             | ✅   |
| 1-4  | 모든 체크박스/라디오 버튼 정상 선택            | ✅   |
| 1-5  | 페이지네이션 정상 동작 (페이지 이동)           | ✅   |
| 1-6  | 검색/필터 기능 정상 동작                       | ✅   |
| 1-7  | 정렬 기능 정상 동작                            | ✅   |
| 1-8  | 다운로드 기능 정상 동작                        | ✅   |
| 1-9  | 업로드 기능 정상 동작 (유효한 파일)            | ✅   |
| 1-10 | 발송/전송 기능 정상 동작                       | ✅   |
| 1-11 | 일괄 처리 기능 정상 동작                       | ✅   |
| 1-12 | 모달/팝업 정상 동작                            | ✅   |
| 1-13 | 탭 전환 정상 동작                              | ✅   |

### 2. UX 피드백 커버리지 (필수)

성공 시 사용자 피드백 테스트

| #   | 체크 항목                    | 필수 |
| --- | ---------------------------- | ---- |
| 2-1 | 로딩 인디케이터 표시 확인    | ✅   |
| 2-2 | 성공 메시지 표시 확인        | ✅   |
| 2-3 | 중요 작업 전 확인 다이얼로그 | ✅   |

### 3. 데이터 상태 커버리지 (필수)

정상 데이터 상태에서의 동작 확인

| #   | 체크 항목                    | 필수 |
| --- | ---------------------------- | ---- |
| 3-1 | 데이터 1건일 때 정상 동작    | ✅   |
| 3-2 | 데이터 다건 (10건 이상) 동작 | ✅   |

---

## ⛔ 절대 제외 체크리스트

> **중요**: 아래 키워드/패턴이 포함된 테스트케이스는 **절대 생성하지 않는다**. 생성 후에는 `happy_case_filter.py`가 자동 제거한다.

### Title 금지 키워드 (7개 카테고리)

| 카테고리     | 금지 키워드                                         |
| ------------ | --------------------------------------------------- |
| 오류/실패    | 오류, 에러, 실패, error, fail                       |
| 잘못된 입력  | 잘못된, 유효하지 않은, 올바르지 않은, 틀린          |
| 빈 값/미입력 | 빈 값, 빈칸, 미입력, 입력하지 않, 입력 없이, 미선택 |
| 권한/접근    | 접근 거부, 권한 없음, 권한없음, 차단, 금지          |
| 중복/재시도  | 중복, 이미 사용 중, 이미 존재, 재시도               |
| 경계값       | 최댓값, 최솟값, 경계값, 경계, 초과, 미만, 부족      |
| 비정상 상태  | 불일치, 만료, 타임아웃, 비정상, 예외, 누락, 위반    |

### Expected Result 금지 키워드

| 유형        | 금지 키워드                                                           |
| ----------- | --------------------------------------------------------------------- |
| 오류 메시지 | 올바르지 않습니다, 오류 메시지, 에러 메시지, 오류가 발생, 경고 메시지 |
| 재입력 요구 | 다시 시도, 재입력, 필수 입력, 입력해주세요, 필수 항목                 |
| 오류 UI     | 빨간색 테두리, 붉은 테두리, 경고 아이콘, 오류 아이콘                  |
| HTTP 오류   | 403, 404, 500, 접근 불가, 페이지를 찾을 수 없습니다                   |
| 거부/실패   | 실패, 거부, 유효하지 않                                               |

### Steps 금지 패턴

| 패턴               | 예시                               |
| ------------------ | ---------------------------------- |
| 비워두고 제출      | "입력란을 비워 두고 [저장] 클릭"   |
| 아무것도 미입력    | "아무것도 입력하지 않고 버튼 클릭" |
| 잘못된 형식/값     | "잘못된 이메일 형식 입력"          |
| 허용되지 않는 값   | "허용되지 않는 특수문자 입력"      |
| 권한 없는 상태     | "권한 없는 상태에서 버튼 클릭"     |
| 로그아웃 상태      | "로그아웃 상태에서 접근"           |
| 보안 공격 코드     | `<script>`, `' OR '`               |
| 존재하지 않는 대상 | "존재하지 않는 계정으로 로그인"    |
| 만료된 토큰/세션   | "만료된 토큰으로 API 호출"         |
| 삭제된 데이터      | "삭제된 계정으로 접근"             |

### Edge Case 금지 키워드 (6개 카테고리)

| 카테고리      | 금지 키워드                                                        |
| ------------- | ------------------------------------------------------------------ |
| 특수 입력     | 특수문자, 이모지, 공백만, 줄바꿈만                                 |
| 빈 결과       | 데이터 없음, 0건, 빈 목록                                          |
| 동시성        | 동시에, 중복 요청, 연속 클릭, 이중 제출                            |
| 브라우저      | 뒤로가기, 새로고침 후, 브라우저 닫기, 탭 전환                      |
| 세션/네트워크 | 세션 만료, 타임아웃, 토큰 만료, 연결 끊김, 네트워크 끊김, 오프라인 |
| 보안          | XSS, SQL, 인젝션, 스크립트                                         |

---

## 작업 프로세스

### 1단계: 문서 분석

| 입력 유형        | 도구/방법                                          | 추출 항목                                                        |
| ---------------- | -------------------------------------------------- | ---------------------------------------------------------------- |
| Figma URL        | Figma MCP                                          | Component, Text, Input 속성, Interactive 흐름, 모든 UI 구성 요소 |
| Axure URL        | 1순위: claude-in-chrome MCP, 2순위: playwright MCP | Widget Notes, Interaction, Dynamic Panel, 모든 UI 구성 요소      |
| Jira/Confluence  | Atlassian MCP                                      | 이슈 설명, AC, 첨부파일, 연결 이슈, 컨플루언스 페이지 모든 내용  |
| 일반 URL         | 1순위: claude-in-chrome MCP, 2순위: playwright MCP | 모든 UI 구성요소, 라벨, 안내문구, 화면 전환 경로                 |
| 스크린샷/PPT/PDF | 이미지 분석                                        | 모든 UI 구성요소, 라벨, 화면 전환 경로                           |

### 2단계: UI 요소 목록 작성

문서 분석 후 화면의 모든 UI 요소를 목록화한다.

```
예시:
- 버튼: [검색], [초기화], [엑셀 다운로드], [저장]
- 입력란: 이름, 이메일, 시작일, 종료일
- 드롭다운: 상태, 부서
- 체크박스: 전체 선택, 개별 선택
- 테이블: 페이지네이션, 정렬
```

### 3단계: 커버리지 체크리스트 대조

2단계 UI 요소 목록을 1~3번 커버리지 체크리스트와 대조하여 필요한 테스트케이스 도출.

**Happy Path 특성**:

- ✅ 유효한 입력값만 사용
- ✅ 성공 시나리오만 테스트
- ❌ 입력 검증 실패 케이스 제외
- ❌ 에러 메시지 테스트 제외
- ❌ 엣지 케이스 제외

### 4단계: Section 구조 설계

**최대 2 depth 권장. Happy Path는 단순 구조 사용.**

```
✅ 좋은 예:
로그인
└── 정상 케이스

회원관리
├── 회원 조회
├── 회원 등록
└── 회원 수정

❌ 불필요 (Happy Path에서는 생략):
로그인
├── 정상 케이스
├── 오류 케이스  ← Happy Path에서는 불필요
└── 엣지 케이스  ← Happy Path에서는 불필요
```

### 5단계: 테스트케이스 작성

1. **정상 케이스만 작성**: Happy Path 중심, 유효한 입력값만 사용
2. **Priority 설정**:
   - 핵심 기능 (로그인, 결제, 주문 등): **Highest** 또는 **High**
   - 일반 기능 (필터, 정렬, 검색 등): **Medium**
   - 부가 기능 (툴팁, 안내문구, 도움말 등): **Low**
   - 장식적 요소 (애니메이션, UI 미세조정 등): **Lowest**
3. **UX 검증**: 성공 시 로딩/메시지/다이얼로그 확인

**작성 예시**:

- ✅ "유효한 계정으로 로그인"
- ✅ "검색어 입력 후 결과 조회"
- ✅ "필터 선택 후 목록 갱신"
- ❌ "잘못된 비밀번호 입력" (오류 케이스 - 제외)
- ❌ "빈 값으로 검색" (엣지 케이스 - 제외)

### 6단계: 커버리지 최종 검증

**테스트케이스 작성 완료 후 반드시 수행:**

1. 1~3번 커버리지 체크리스트 항목별로 해당 테스트케이스 존재 여부 확인
2. 누락된 항목 발견 시 테스트케이스 추가
3. 오류 케이스/엣지 케이스가 포함되지 않았는지 확인

### 6.5단계: Happy Case 순수성 자동 필터링

```bash
python scripts/happy_case_filter.py [파일명].csv
```

생성된 테스트케이스 CSV에 엣지케이스가 혼입되었는지 자동 감지하고 **원본 파일에서 즉시 제거**한다.

**정상 출력 예시 (제거 없음)**:

```
🔍 Happy Case 순수성 검증 및 필터링

- 전체 테스트케이스: 30개
- Happy Case: 30개 (유지)
- 제거된 비-Happy 케이스: 0개

✅ 필터링 완료: 30개 순수 Happy Case만 남았습니다.
```

**제거 케이스 발생 시**:

```
🔍 Happy Case 순수성 검증 및 필터링

- 전체 테스트케이스: 35개
- Happy Case: 30개 (유지)
- 제거된 비-Happy 케이스: 5개
  행 5: "잘못된 이메일 형식 입력" → Title에 '잘못된' 포함
  행 12: "검색 결과 0건 표시" → Edge 키워드 '0건' 감지

✅ 필터링 완료: 30개 순수 Happy Case만 남았습니다.
```

→ **대응**: 제거된 케이스가 실제로 필요한 Happy Case라면 내용을 수정하여 재추가

### 7단계: 검증 및 출력

#### 7-1. CSV 포맷 검증

```bash
python scripts/validate_csv.py [파일명].csv
```

**정상 출력 예시**:

```
📋 CSV 파일 검증 중: 로그인_테스트케이스.csv
============================================================

✅ 검증 통과! TestRail 업로드 가능한 형식입니다.
```

**에러 발생 시**:

```
❌ 오류: 4번째 라인에 컬럼 개수 불일치
예상: 7개, 실제: 6개
```

→ **대응**: CSV 파일의 4번째 라인 확인 후 누락된 컬럼 추가

**일반적인 오류와 해결 방법**:
| 오류 메시지 | 원인 | 해결 방법 |
|------------|------|----------|
| "컬럼 개수 불일치" | 셀 내 따옴표 미처리 | 큰따옴표를 ""로 이스케이프 |
| "인코딩 오류" | 파일 저장 시 잘못된 인코딩 | UTF-8로 재저장 |
| "필수 컬럼 누락" | 컬럼명 오타 | CSV 헤더 확인 |

#### 7-2. Happy Case 순수성 확인 (재확인)

```bash
python scripts/happy_case_filter.py [파일명].csv
```

6.5단계에서 이미 실행되었으나 이후 수정이 있었다면 재실행하여 최종 확인한다.

**정상 출력 예시**:

```
🔍 Happy Case 순수성 검증 및 필터링

- 전체 테스트케이스: 30개
- Happy Case: 30개 (유지)
- 제거된 비-Happy 케이스: 0개

✅ 필터링 완료: 30개 순수 Happy Case만 남았습니다.
```

#### 7-3. 품질 검증

```bash
python scripts/quality_check.py [파일명].csv
```

**정상 출력 예시**:

```
============================================================
📊 테스트 케이스 품질 리포트
============================================================

총 테스트 케이스: 30개

✓ Preconditions 작성률: 100.0%
✓ Steps 작성률: 100.0%
✓ Expected Result 작성률: 100.0%

우선순위 분포:
  • Highest: 8개 (26.7%)
  • High: 12개 (40.0%)
  • Medium: 5개 (16.7%)
  • Low: 3개 (10.0%)
  • Lowest: 2개 (6.7%)

============================================================
종합 품질 점수: 100/100
✅ 우수한 품질입니다!
============================================================
```

**경고 발생 시**:

```
⚠️ 경고: 5개 테스트케이스에 Preconditions 누락
→ TC-015, TC-023...
```

→ **대응**: 해당 테스트케이스에 Preconditions 추가

#### 7-4. TestRail 업로드 호환성 확인

```bash
python scripts/testrail_upload_check.py [파일명].csv
```

**정상 출력 예시**:

```
✅ TestRail 업로드 준비 완료
- Section Hierarchy: 정상
- 예약어 충돌: 없음
- 최대 길이 초과: 없음
```

**최종 확인**: 모든 검증 스크립트 통과 후 CSV 파일 산출

---

## CSV 형식 (TestRail 호환)

### 컬럼 구조

```csv
"Section","Section Hierarchy","Title","Preconditions","Steps","Expected Result","Priority"
```

### Section Hierarchy 작성 규칙

| depth | Section     | Section Hierarchy    | 설명        |
| ----- | ----------- | -------------------- | ----------- |
| 1     | 로그인      | (빈 값)              | 최상위 폴더 |
| 2     | 정상 케이스 | 로그인 > 정상 케이스 | 하위 폴더   |

---

## CSV 예시

```csv
"Section","Section Hierarchy","Title","Preconditions","Steps","Expected Result","Priority"
"로그인","","","","","","Highest"
"정상 케이스","로그인 > 정상 케이스","유효한 계정으로 로그인","1. 로그인 권한: 일반 사용자
2. 접근 경로: 메인 > 로그인
3. 테스트 데이터: test@example.com / Pass1234!
4. 사전 상태: 회원가입 완료된 계정 존재","1. 로그인 페이지 접속 (URL: /login)
2. 이메일 입력란에 'test@example.com' 입력
3. 비밀번호 입력란에 'Pass1234!' 입력
4. '로그인' 버튼 클릭","1. 대시보드 페이지로 이동 (URL: /dashboard)
2. 우측 상단에 'test@example.com' 표시
3. '로그인 성공' 토스트 메시지 표시
4. 로딩 인디케이터 정상 표시 후 사라짐","Highest"
"정상 케이스","로그인 > 정상 케이스","로그인 성공 후 페이지 이동 확인","1. 로그인 권한: 일반 사용자
2. 접근 경로: 메인 > 로그인
3. 테스트 데이터: test@example.com / Pass1234!
4. 사전 상태: 회원가입 완료","1. 로그인 페이지 접속
2. 유효한 계정 정보 입력
3. '로그인' 버튼 클릭","1. 대시보드로 정상 이동
2. 사용자 정보 정상 표시","High"
"회원관리","","","","","","High"
"회원 조회","회원관리 > 회원 조회","검색 조건으로 회원 조회","1. 로그인 권한: 관리자
2. 접근 경로: 메인 > 회원관리 > 회원 조회
3. 테스트 데이터: 검색어 '홍길동'
4. 사전 상태: 회원 10건 이상 등록","1. 회원 조회 화면 접속
2. 검색어 입력란에 '홍길동' 입력
3. [검색] 버튼 클릭","1. 검색 결과 목록 표시
2. 검색 조건에 맞는 회원만 표시
3. 로딩 인디케이터 표시 후 사라짐","High"
"회원 조회","회원관리 > 회원 조회","페이지네이션 정상 동작","1. 로그인 권한: 관리자
2. 접근 경로: 메인 > 회원관리 > 회원 조회
3. 테스트 데이터: 없음
4. 사전 상태: 회원 50건 이상 등록 (페이지당 10건 표시)","1. 회원 조회 화면 접속
2. 2페이지 이동 버튼 클릭
3. 다음 페이지 버튼 클릭
4. 이전 페이지 버튼 클릭","1. 각 페이지 이동 시 해당 페이지 데이터 표시
2. 페이지 번호 하이라이트 정상 변경
3. 전체 건수 정보 정확히 표시","Medium"
```

---

## 필드별 작성 규칙

### 공통 규칙

- 동사 포함 필수: 입력, 선택, 이동, 확인
- **줄바꿈 규칙**: CSV 내에서 실제 줄바꿈 사용, 이스케이프 문자 금지

  - ✅ **올바른 방법**: 셀 내에서 Enter 키로 물리적 줄바꿈 입력
  - ❌ **잘못된 방법**: \n 이스케이프 문자 사용 금지

  **예시**:

  ```csv
  "Steps","1. 로그인 페이지 접속
  2. 이메일 입력란에 'test@example.com' 입력
  3. 비밀번호 입력란에 'Pass1234!' 입력"
  ```

  **❌ 절대 금지**:

  ```csv
  "Steps","1. 로그인 페이지 접속\n2. 이메일 입력란에 'test@example.com' 입력"
  ```

**Title** (최대 30자)

- 동사 포함 필수: 입력, 선택, 이동, 확인
- ✅ "유효한 이메일로 로그인 성공" / ❌ "로그인 테스트"

**Preconditions (4가지 필수 항목)**

⚠️ **중요**: 모든 테스트케이스는 아래 4가지 항목을 **반드시** 포함해야 합니다. 1번은 선택적으로 필요시 명시

**필수 템플릿**:

```

1. 접근 권한: [필요시 명시, 불필요하면 포함하지 않음, 권한 없이 모두 접근 가능 하면 해당 스텝 제외]
   - 예: 관리자, 일반 사용자, 누구나 접근 가능

2. 접근 경로: [메뉴 구조]
   - 형식: 메인 > 서브메뉴 > 화면명
   - 예: 메인 > 회원관리 > 회원목록

3. 테스트 데이터: [구체적 값]
   - 계정: test@example.com / Pass1234!
   - 날짜: 2025-01-15 ~ 2025-01-31
   - 상태: 승인 완료

4. 사전 상태: [필요 시 명시, 불필요하면 "없음"]
   - 예: 회원 10건 이상 등록 완료
   - 예: 없음
```

**작성 예시**:

```
1. 접근 권한 명시: ex.일반사용자, 권한 없이 모두 접근 가능 하면 해당 스텝 제외
2. 접근 경로: 메인 > 로그인
3. 테스트 데이터: test@example.com / Pass1234!
4. 사전 상태: 회원가입 완료된 계정 존재
```

**Steps**

- 한 단계 = 하나의 행동
- 입력값은 작은따옴표로 명시: 'test@example.com'
- 버튼명: [검색], [초기화], [엑셀 다운로드], [저장], [삭제] 와 같은 버튼명은 대괄호[버튼명] 과 같이 작성

**Expected Result**

- 측정 가능한 기준 명시
- UI 변화 + 데이터 변화 + 상태 변화 포함
- 구체적 메시지 텍스트 명시 (예: '저장되었습니다')
- 버튼명: [검색], [초기화], [엑셀 다운로드], [저장], [삭제] 와 같은 버튼명은 대괄호[버튼명] 과 같이 작성
- **Happy Path 특성**: 성공 메시지, 정상 이동, 데이터 정상 표시만 포함

**Priority**

| 등급    | 기준        | 예시                          |
| ------- | ----------- | ----------------------------- |
| Highest | 핵심 기능   | 로그인, 결제, 주문            |
| High    | 주요 기능   | 회원가입, 상품 조회           |
| Medium  | 일반 기능   | 필터, 정렬, 검색              |
| Low     | 부가 기능   | 툴팁, 안내문구 표시, 도움말   |
| Lowest  | 장식적 요소 | 애니메이션, UI 미세조정, 푸터 |

---

## 레퍼런스

### 테스트 설계 참조

| 파일                                | 용도                   | 참조 시점            |
| ----------------------------------- | ---------------------- | -------------------- |
| `references/happy-path-examples.md` | Happy Path 예시 가이드 | 테스트케이스 작성 시 |

---

## 작성 완료 전 최종 검증

산출물 생성 완료 후 아래 검증 필수:

### 테스트케이스.csv 검증

```
□ Preconditions에 로그인 권한과 테스트 데이터 명시?
□ Expected Result에 구체적인 메시지 텍스트 명시?
□ Section 구조가 2 depth 이내?
□ 줄바꿈으로 구분 되어 있고 줄바꿈 문자(\n 문자 절대 사용 금지) 사용 되지는 않았는지?
□ 정상 케이스만 포함되었는지 확인? (오류 케이스/엣지 케이스 제외)
```

테스트케이스 CSV 생성 완료 후 아래 검증 필수:

### 커버리지 검증 (필수)

```
□ 1. 기능 커버리지: 모든 UI 요소의 정상 동작 테스트 존재?
□ 2. UX 피드백: 성공 메시지, 로딩 표시 테스트 존재?
□ 3. 데이터 상태: 1건/다건 정상 동작 테스트 존재?
□ 오류 케이스/엣지 케이스가 포함되지 않았는지 확인?
□ happy_case_filter.py 통과? (제거된 케이스 0개?)
```

### 누락 발견 시

위 검증에서 누락 발견 시 **반드시 테스트케이스 추가** 후 CSV 재생성.
